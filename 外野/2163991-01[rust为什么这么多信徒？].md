
*****

####  obiy  
##### 179#       发表于 2024-12-14 17:05

[如何评价Rust实现的PNG解码器比C更快](https://www.zhihu.com/question/6568018545/answer/55165637634)
 <blockquote>楼上几个汇编仙人和老中医似的, 承认 rustc 更先进和灭绝中医一样困难.肤浅的归功于 SIMD

好比 Rust 人用现代仪器研究了老半天, 发现了病灶, 然后你们跳出来说哎哎哎, 我用望诊问切早就发现了.

要是真的这么简单, 你大可以逐指令直接翻译成 C 去混个 PR, 你要是看不懂 Rust 那就用 ChatGPT 翻译.

从信息学第一性原理出发, 越高层的语言, 能提供越高级的语义约束, 编译器才能够做更严格, 更彻底的优化.

rust png 比 libpng 快主要就两点.

Alias Analysis, 这是编译器中核心研究问题之一， 在 C 语言中极端困难, 且阻碍多种优化。Rust 通过语义保证，可以无畏的发射 noalias，便于 LLVM 做完全优化。

Automatic Vectorization, 这是编译器研究中的前沿方向，这个其实 Rust 做的也就一般，这方面远远比不了有 staging 概念的 zig，不过打打相关语义严重缺失的 C 语言还是没问题的。</blockquote>


*****

####  厨具战士mk2  
##### 180#       发表于 2024-12-14 18:30

 本帖最后由 厨具战士mk2 于 2024-12-14 18:33 编辑 

我有个问题啊。

程序员的时间是有限的，如果不用rust改用较为宽松的语言，把语法和编译的时间节省下来用来测试，不是也能保证安全性吗？把省下的时间用来完善，不是也能保证运行效率吗？

而且这样还能满足项目灵活更改的要求，想改就改。安排开发计划也更轻松弹性。


*****

####  riczxc  
##### 181#       发表于 2024-12-14 18:52

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=66925333&amp;ptid=2163991" target="_blank">厨具战士mk2 发表于 2024-12-14 18:30</a>

我有个问题啊。

程序员的时间是有限的，如果不用rust改用较为宽松的语言，把语法和编译的时间节省下来用来 ...</blockquote>
Rust的类型系统就是自动帮你写和安全有关的单元测试，编译时顺便运行一遍。如果觉得编译太久那可以不用cargo build，用cargo check也可以查代码能不能编译。

*****

####  riczxc  
##### 182#       发表于 2024-12-14 18:54

 本帖最后由 riczxc 于 2024-12-14 18:55 编辑 
<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=66617280&amp;ptid=2163991" target="_blank">trentswd 发表于 2024-11-4 17:19</a>

看了这贴去看了一下教程，怎么这么像unique_ptr</blockquote>
就是unique_ptr的独占所有权。C++也要思考同样的问题，Rust也就是编译器管得比较严，不会思考错所有权和多线程，但是会误杀一些正确的程序，所以要开个洞unsafe来让你自己寻思来确保没有未定义行为。


*****

####  metaphias  
##### 183#       发表于 2024-12-14 19:02

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=66925333&amp;ptid=2163991" target="_blank">厨具战士mk2 发表于 2024-12-14 18:30</a>
我有个问题啊。

程序员的时间是有限的，如果不用rust改用较为宽松的语言，把语法和编译的时间节省下来用来 ...</blockquote>
这个道理其实挺对的，一两个人的团队完全可以这么弄，不过现实的合作开发人数可能非常多，复杂度难以控制，需求多变容易失控，这个里面有一个tradeoff的问题。

虽然如此，rust在pl上其实并没有多少新东西，但定位也算是找的比较好的了，这一点也容易吸引小鬼，这就是为什么说它成为了原x。

